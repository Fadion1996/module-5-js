<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Module 5</title>
  </head>
  <body>
    <script type="text/javascript">

    const alphabet = "qwertyuiop[]\\asdfghjkl;\'zxcvbnm,./";

    const keyboard = {
      layouts: {
        en: {
            topRow: ['q','w','e','r','t','y','u','i','o','p','[',']','\\'],
            middleRow: ['a','s','d','f','g','h','j','k','l',';','\''],
            bottomRow: ['z','x','c','v','b','n','m',',','.','/']
        },
        ru: {
            topRow: ['й','ц','у','к','е','н','г','ш','щ','з','х','ъ','\\'],
            middleRow: ['ф','ы','в','а','п','р','о','л','д','ж','э'],
            bottomRow: ['я','ч','с','м','и','т','ь','б','ю','.']
        },
        ua: {
            topRow: ['й','ц','у','к','е','н','г','ш','щ','з','х','ї','\\'],
            middleRow: ['ф','і','в','а','п','р','о','л','д','ж','є'],
            bottomRow: ['я','ч','с','м','и','т','ь','б','ю','.']
        }
      },
      langs: ['en', 'ru', 'ua'],
      currentLang: ''
    };

    // console.log(keyboard.layouts.en.topRow);
    let numb = "";
    numb = prompt("Choose language: en-0, ru-1, ua-2");

    function setNumb () {
      numb = prompt("Choose language: en-0, ru-1, ua-2");
      check(numb);
    }

    const check = function (numb) {
      if(numb === null){
        return;
      }else{
        numb = parseInt(numb);
        if (isNaN(numb) || numb < 0 || numb > 2) {
          alert("Wrong number! Please choose another: en-0, ru-1, ua-2");
          setNumb();
        }else if (numb === 0) {
          keyboard.currentLang = keyboard.langs[0];
        }else if (numb === 1) {
          keyboard.currentLang = keyboard.langs[1];
        }else if (numb === 2) {
          keyboard.currentLang = keyboard.langs[2];
        }
      }
      return keyboard.currentLang;
    }

    check(numb);

    let random = "";
    function getRandCharInAlph() {
      if (keyboard.currentLang === "en") {
        const randomArray = keyboard.layouts.en.topRow;
        random = randomArray[Math.floor(Math.random() * randomArray.length)];

      }else if (keyboard.currentLang === "ru"){
        const randomArray = keyboard.layouts.ru.middleRow;
        random = randomArray[Math.floor(Math.random() * randomArray.length)];

      }else if (keyboard.currentLang === "ua"){
        const randomArray = keyboard.layouts.ua.bottomRow;
        random = randomArray[Math.floor(Math.random() * randomArray.length)];
      }
      return random;
    }
    getRandCharInAlph();

    console.log(`You choose ${keyboard.currentLang} language`);
    console.log(`Your random number in ${keyboard.currentLang} language \"${random}\"`);

    </script>
  </body>
</html>
